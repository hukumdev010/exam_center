version: 1
applications:
  - appRoot: frontend
    env:
      variables:
        AMPLIFY_MONOREPO_APP_ROOT: frontend
        _LIVE_UPDATES: '[{"pkg":"@aws-amplify/cli","type":"npm","version":"latest"}]'
    backend:
      phases:
        build:
          commands:
            - "echo 'Backend build phase - No backend commands needed'"
    frontend:
      phases:
        preBuild:
          commands:
            - "echo 'Installing dependencies...'"
            - "npm ci"
        build:
          commands:
            - "echo 'Building Next.js application...'"
            - "npm run build"
      artifacts:
        baseDirectory: .next
        files:
          - "**/*"
      cache:
        paths:
          - "node_modules/**/*"
          - ".next/cache/**/*"
